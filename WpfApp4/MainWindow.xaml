<Window x:Class="WpfApp4.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfApp4"
        mc:Ignorable="d"
        Title="Registro de Piezas" Height="720" Width="1280"
        MinHeight="720" MinWidth="1280"
        SizeChanged="Window_SizeChanged">

    <Window.Background>
        <ImageBrush ImageSource="/ChatGPT Image 17 feb 2026, 14_04_43.png" Stretch="Fill" TileMode="None"/>
    </Window.Background>

    <Grid Margin="10,10,10,10">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="386*"/>
            <ColumnDefinition Width="311*"/>
            <ColumnDefinition Width="312*"/>
            <ColumnDefinition Width="251*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition/>
        </Grid.RowDefinitions>

        <DataGrid Name="listapezas"  
                  SelectionChanged="Listapezas_SelectionChanged"  
                  CanUserAddRows="False"  
                  Grid.ColumnSpan="4" 
                  Margin="0,0,0,283"
                  AutoGenerateColumns="False"
                  VerticalScrollBarVisibility="Auto"
                  HorizontalScrollBarVisibility="Disabled"
                  
                  Background="#CC1A1A1A" 
                  RowBackground="#CC252525" 
                  AlternatingRowBackground="#CC1A1A1A"
                  Foreground="#FFFFF3A0" 
                  HorizontalGridLinesBrush="#333333"
                  VerticalGridLinesBrush="#333333"
                  BorderBrush="#FFFFF3A0"
                  BorderThickness="1"
                  HeadersVisibility="All">

            <DataGrid.ColumnHeaderStyle>
                <Style TargetType="DataGridColumnHeader">
                    <Setter Property="Background" Value="#FF000000"/>
                    <Setter Property="Foreground" Value="#FFFFF3A0"/>
                    <Setter Property="FontWeight" Value="Bold"/>
                    <Setter Property="Padding" Value="10,5,10,5"/>
                    <Setter Property="BorderBrush" Value="#FFFFF3A0"/>
                    <Setter Property="BorderThickness" Value="0,0,0,1"/>
                    <Setter Property="HorizontalContentAlignment" Value="Center"/>
                </Style>
            </DataGrid.ColumnHeaderStyle>

            <DataGrid.Columns>
                <DataGridTextColumn Header="Nombre" Binding="{Binding nombre}" Width="1*"/>
                <DataGridTextColumn Header="Color" Binding="{Binding color}" Width="1*"/>
                <DataGridTextColumn Header="Largo" Binding="{Binding largo}" Width="1*"/>
                <DataGridTextColumn Header="Ancho" Binding="{Binding ancho}" Width="1*"/>
                <DataGridCheckBoxColumn Header="Urgente" Binding="{Binding piezaurgente}" Width="0.5*"/>
            </DataGrid.Columns>
        </DataGrid>

        <Button Content="Añadir" Name="engadirpeza" Margin="176,0,14,57" Click="botonengadir" KeyDown="pulsarteclaenter" Height="37" VerticalAlignment="Bottom" FontSize="16" FontWeight="Bold" IsEnabled="True"/>

        <Button Content="Borrar" Name="eliminarpeza" Margin="45,0,45,57" Click="botonborrar" KeyDown="eliminartodososcampos" KeyUp="eliminartextos" Grid.Column="1" FontWeight="Bold" FontSize="16" Height="37" VerticalAlignment="Bottom"/>

        <TextBox x:Name="texto_nombre" Margin="22,0,40,203" TextWrapping="Wrap" Text="{Binding nombre, UpdateSourceTrigger=PropertyChanged}" TextChanged="texto_nombre_TextChanged" KeyDown="enternombre" PreviewMouseDown="ReaparecerEngadirConClick" VerticalContentAlignment="Center" Height="50" VerticalAlignment="Bottom" >
            <TextBox.Background>
                <SolidColorBrush Color="White" Opacity="0.75"/>
            </TextBox.Background>
        </TextBox>

        <TextBox x:Name="texto_color" Margin="22,0,40,123" TextWrapping="Wrap" Text="{Binding color, UpdateSourceTrigger=PropertyChanged}" TextChanged="texto_nombre_TextChanged" KeyDown="entercolor" PreviewMouseDown="ReaparecerEngadirConClick" VerticalContentAlignment="Center" Height="49" VerticalAlignment="Bottom">
            <TextBox.Background>
                <SolidColorBrush Color="White" Opacity="0.75"/>
            </TextBox.Background>
        </TextBox>

        <TextBox x:Name="texto_largo" Margin="0,0,10,123" TextWrapping="Wrap" Text="{Binding largo,UpdateSourceTrigger=PropertyChanged}" TextChanged="texto_nombre_TextChanged" KeyDown="enterlargo" PreviewMouseDown="ReaparecerEngadirConClick" VerticalContentAlignment="Center" Grid.Column="1" Height="49" VerticalAlignment="Bottom" >
            <TextBox.Background>
                <SolidColorBrush Color="White" Opacity="0.75"/>
            </TextBox.Background>
        </TextBox>

        <TextBox x:Name="texto_ancho" Margin="51,0,12,120" TextWrapping="Wrap" Text="{Binding ancho, UpdateSourceTrigger=PropertyChanged}" TextChanged="texto_nombre_TextChanged" KeyDown="enterancho" PreviewMouseDown="ReaparecerEngadirConClick" VerticalContentAlignment="Center" Grid.Column="2" Height="49" VerticalAlignment="Bottom" >
            <TextBox.Background>
                <SolidColorBrush Color="White" Opacity="0.75"/>
            </TextBox.Background>
        </TextBox>

        <Label Content="Color" Margin="86,0,137,174" Height="31" VerticalAlignment="Bottom" Foreground="#FFFFF3A0" FontWeight="Bold" FontSize="16"/>
        <Label Content="Largo (cm)" Margin="0,0,219,174" Grid.Column="1" Height="31" VerticalAlignment="Bottom" Foreground="#FFFFF3A0" FontSize="16" FontWeight="Bold">
            <Label.Background>
                <SolidColorBrush Color="Black" Opacity="0.5"/>
            </Label.Background>
        </Label>
        <Label Content="Ancho (cm)" Margin="51,0,12,174" Grid.Column="2" Height="31" VerticalAlignment="Bottom" Foreground="#FFFFF3A0" FontSize="16" FontWeight="Bold">
            <Label.Background>
                <SolidColorBrush Color="Black" Opacity="0.5"/>
            </Label.Background>
        </Label>
        <Label Content="Nombre" Margin="86,0,126,257" Height="29" VerticalAlignment="Bottom" Foreground="#FFFFF3A0" FontWeight="Bold" FontSize="16"/>

        <TextBlock Margin="11,432,11,0" TextWrapping="Wrap" Text="" Name="advertencia" Foreground="White" Background="Red" Grid.Column="1" Height="31" VerticalAlignment="Top" Visibility="Hidden"/>

        <CheckBox Content="Urgente" Margin="71,0,0,71" IsChecked="{Binding piezaurgente, UpdateSourceTrigger=PropertyChanged}" Name="urgentecheck" Height="23" VerticalAlignment="Bottom" HorizontalAlignment="Left" Width="100" Foreground="#FFFFF3A0" FontWeight="Bold" FontSize="16"/>
        <Button Content="Guardar" Margin="11,0,11,57" Name="itembotonguardar" Click="botonguardar" Grid.Column="2" FontWeight="Bold" FontSize="16" Height="37" VerticalAlignment="Bottom"/>
        <Button Content="Editar" Margin="0,0,14,57" Name="botoneditar" Click="BotonEditarClick" Height="37" VerticalAlignment="Bottom" Foreground="Black" FontSize="16" FontWeight="Bold" HorizontalAlignment="Right" Width="196"/>
        <Button Content="Guardar Cambios" Margin="10,590,12,0" Name="botonguardarcambios" Click="BotonGuardarCambiosClick" Grid.Column="2" FontSize="16" FontWeight="Bold" Height="37" VerticalAlignment="Top"/>
        <Button Content="Cancelar" Margin="45,591,45,0" Name="botoncancelar" Click="BotonCancelarClick" Grid.Column="1" FontSize="16" FontWeight="Bold" Height="37" VerticalAlignment="Top"/>
        <Button Content="Registrar Piezas Urgentes" Margin="43,0,6,57" Name="BotonNotificarPiezasUrgentes" Click="BotonNotificarPiezasUrgentesClick" Grid.Column="3" Height="37" VerticalAlignment="Bottom" FontSize="16" FontWeight="Bold"/>

        <TextBlock Margin="51,0,12,239" x:Name="ContadorUrgentes" Text="" Background="{DynamicResource {x:Static SystemColors.AccentColorBrushKey}}" FontFamily="Arial Black" Grid.Column="2" Opacity="0.9" FontSize="16" Height="32" VerticalAlignment="Bottom"/>
        <TextBlock Margin="51,0,12,200" Name="ContadorTotalPezas" Background="{DynamicResource {x:Static SystemColors.AccentColorBrushKey}}" FontFamily="Arial Black" Grid.Column="2" Height="32" VerticalAlignment="Bottom" Opacity="0.9" FontSize="16" />

        <Button Content="Configuración" Margin="77,0,6,238" VerticalAlignment="Bottom" Height="33" Name="BotonConfiguracion" Click="BotonConfiguracionClick" Grid.Column="3" FontSize="16" FontWeight="Bold"/>
        <Button Content="Importar Lista" Margin="77,0,6,200" Name="BotonImportarLista" Click="BotonImportarListaClick" Grid.Column="3" Height="33" VerticalAlignment="Bottom" FontWeight="Bold" FontSize="16"/>

        <Label Content="Cantidad" Margin="10,0,0,33" Height="35" VerticalAlignment="Bottom" HorizontalAlignment="Left" Width="76" Foreground="#FFFFF3A0" FontWeight="Bold" FontSize="16"/>
        <TextBox Margin="86,0,0,40" Name="CantidadDePezas" TextAlignment="Center" FontFamily="Arial" FontSize="16" Height="22" VerticalAlignment="Bottom" Text="1" HorizontalAlignment="Left" Width="48">
            <TextBox.Background>
                <SolidColorBrush Color="White" Opacity="0.75"/>
            </TextBox.Background>
        </TextBox>
    </Grid>
</Window>